---
global:
  envFrom:
    - secretRef:
        name: authentik-core-secrets
    #- secretRef:
    #    name: authentik-blueprint-secrets

  volumeMounts:
    - name: db-creds
      mountPath: /secrets/authentik
      readOnly: true

  volumes:
    - name: db-creds
      secret:
        secretName: authentik-user.authentik-postgresql.credentials.postgresql.acid.zalan.do

authentik:
  secret_key: "env://AUTHENTIK_SECRET_KEY"
  enabled: true
  error_reporting:
    enabled: false
  postgresql:
    host: authentik-postgresql
    name: authentik
    user: file:///secrets/authentik/username
    password: file:///secrets/authentik/password
    port: "5432"

blueprints:
  configMaps:
    - authentik-blueprints
  secrets: []

server:
  enabled: true
  service:
    type: LoadBalancer

worker:
  enabled: true
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  livenessProbe:
    timeoutSeconds: 5
  readinessProbe:
    timeoutSeconds: 5
  startupProbe:
    timeoutSeconds: 5
postgresql:
  enabled: false

  metrics:
    enabled: true

prometheus:
  rules:
    enabled: true

metrics:
  enabled: true
